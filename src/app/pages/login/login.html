<div class="login-container">
  <nz-card [nzTitle]="'Đăng nhập'" [nzExtra]="extraTemplate">
    <form nz-form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <!-- Email Field -->
      <nz-form-item>
        <nz-form-control nzErrorTip="Email không hợp lệ!">
          <nz-input-group nzPrefixIcon="user">
            <input 
              type="email" 
              nz-input 
              formControlName="email" 
              placeholder="Email" />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>

      <!-- Password Field -->
      <nz-form-item>
        <nz-form-control nzErrorTip="Mật khẩu là bắt buộc!">
          <nz-input-group nzPrefixIcon="lock" [nzSuffix]="suffixTemplate">
            <input 
              [type]="passwordVisible ? 'text' : 'password'" 
              nz-input 
              formControlName="password" 
              placeholder="Mật khẩu" />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>

      <!-- Login Button -->
      <nz-form-item>
        <button 
          nz-button 
          nzType="primary" 
          nzBlock 
          [nzLoading]="isLoading"
          [disabled]="loginForm.invalid">
          Đăng nhập
        </button>
      </nz-form-item>

      <!-- Register Link -->
      <div class="register-link">
        <span>Chưa có tài khoản? 
          <a routerLink="/auth/register">Đăng ký ngay</a>
        </span>
      </div>
    </form>
  </nz-card>
</div>

<!-- Password Visibility Toggle Template -->
<ng-template #suffixTemplate>
  <i 
    nz-icon 
    [nzType]="passwordVisible ? 'eye-invisible' : 'eye'" 
    (click)="togglePasswordVisibility()"
    class="password-toggle">
  </i>
</ng-template>

<!-- Extra Template for Card Header -->
<ng-template #extraTemplate>
  <a routerLink="/auth/register" class="header-link">Đăng ký</a>
</ng-template>