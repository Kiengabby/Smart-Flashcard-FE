<div class="arena-game-container" *ngIf="session">
  <!-- Header with Timer and Stats -->
  <div class="game-header">
    <div class="header-left">
      <button nz-button nzType="text" nzDanger (click)="quitGame()" class="quit-btn">
        <span nz-icon nzType="close" nzTheme="outline"></span>
        ThoÃ¡t
      </button>
    </div>

    <div class="header-center">
      <div class="timer">
        <span nz-icon nzType="clock-circle" nzTheme="outline"></span>
        â±ï¸ {{ formatTime(elapsedTime) }}
      </div>
    </div>

    <div class="header-right">
      <div class="progress-info">
        ğŸ“Š {{ currentQuestionIndex + 1 }} / {{ session.totalQuestions }}
      </div>
    </div>
  </div>

  <!-- Progress Bar -->
  <div class="progress-section">
    <div class="question-counter">
      CÃ¢u {{ currentQuestionIndex + 1 }} / {{ session.totalQuestions }}
    </div>
    <nz-progress 
      [nzPercent]="progress" 
      [nzShowInfo]="false"
      nzStrokeColor="#667eea">
    </nz-progress>
  </div>

  <!-- Question Card -->
  <div class="question-section">
    <nz-card class="question-card">
      <!-- Question: Tá»« Vá»±ng -->
      <div class="question-term">
        <h2>{{ currentQuestion?.questionText }}</h2>
        <p class="question-instruction">Chá»n nghÄ©a Ä‘Ãºng cá»§a tá»« trÃªn:</p>
      </div>

      <!-- Answer Options -->
      <div class="options-grid">
        <button 
          *ngFor="let option of currentQuestion?.options; let i = index"
          nz-button 
          nzSize="large"
          [nzType]="selectedOption === option ? 'primary' : 'default'"
          [disabled]="showFeedback"
          (click)="selectOption(option)"
          class="option-btn"
          [class.selected]="selectedOption === option && !showFeedback"
          [class.correct]="showFeedback && option === currentQuestion?.correctAnswer"
          [class.wrong]="showFeedback && selectedOption === option && !answeredCorrectly">
          <span class="option-letter">{{ ['A', 'B', 'C', 'D'][i] }}</span>
          <span class="option-text">{{ option }}</span>
        </button>
      </div>

      <!-- ğŸš€ KHÃ”NG Cáº¦N BUTTON Ná»®A - Tá»± Ä‘á»™ng chuyá»ƒn cÃ¢u sau khi chá»n -->
      <div class="feedback-section" *ngIf="showFeedback">
        <div class="feedback-message" [class.correct-msg]="answeredCorrectly" [class.wrong-msg]="!answeredCorrectly">
          <span *ngIf="answeredCorrectly">âœ… ChÃ­nh xÃ¡c!</span>
          <span *ngIf="!answeredCorrectly">âŒ Sai rá»“i! ÄÃ¡p Ã¡n Ä‘Ãºng: <strong>{{ currentQuestion?.correctAnswer }}</strong></span>
        </div>
      </div>
    </nz-card>
  </div>

</div>
