<div class="register-container">
  <nz-card class="register-card">
    <div class="register-header">
      <h2 class="register-title">Tạo tài khoản</h2>
      <p class="register-subtitle">Tạo tài khoản để bắt đầu học tập</p>
    </div>

    <form nz-form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
      <nz-form-item>
        <nz-form-label nzFor="displayName" class="form-label">Họ và tên</nz-form-label>
        <nz-form-control nzErrorTip="Họ và tên là bắt buộc!">
          <nz-input-group nzPrefixIcon="user">
            <input type="text" nz-input formControlName="displayName" placeholder="Nhập họ và tên của bạn" />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label nzFor="email" class="form-label">Email</nz-form-label>
        <nz-form-control nzErrorTip="Email không hợp lệ!">
          <nz-input-group nzPrefixIcon="mail">
            <input type="email" nz-input formControlName="email" placeholder="Nhập email của bạn" />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label nzFor="password" class="form-label">Mật khẩu</nz-form-label>
        <nz-form-control nzErrorTip="Mật khẩu phải có ít nhất 6 ký tự!">
          <nz-input-group nzPrefixIcon="lock" [nzSuffix]="passwordSuffixTemplate">
            <input [type]="showPassword ? 'text' : 'password'" nz-input formControlName="password" placeholder="Nhập mật khẩu (tối thiểu 6 ký tự)" />
          </nz-input-group>
          <ng-template #passwordSuffixTemplate>
            <i nz-icon [nzType]="showPassword ? 'eye-invisible' : 'eye'" (click)="togglePasswordVisibility()"></i>
          </ng-template>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label nzFor="confirmPassword" class="form-label">Xác nhận mật khẩu</nz-form-label>
        <nz-form-control nzErrorTip="Mật khẩu xác nhận không khớp!">
          <nz-input-group nzPrefixIcon="lock" [nzSuffix]="confirmPasswordSuffixTemplate">
            <input [type]="showConfirmPassword ? 'text' : 'password'" nz-input formControlName="confirmPassword" placeholder="Nhập lại mật khẩu" />
          </nz-input-group>
          <ng-template #confirmPasswordSuffixTemplate>
            <i nz-icon [nzType]="showConfirmPassword ? 'eye-invisible' : 'eye'" (click)="toggleConfirmPasswordVisibility()"></i>
          </ng-template>
        </nz-form-control>
      </nz-form-item>

      <button nz-button nzType="primary" [nzLoading]="isLoading" [disabled]="registerForm.invalid" class="full-width register-btn">
        TẠO TÀI KHOẢN
      </button>
    </form>

    <nz-divider nzText="Hoặc"></nz-divider>

    <div class="social-login-section">
      <button nz-button nzType="default" class="full-width social-btn" (click)="registerWithGoogle()" [disabled]="isLoading">
        <i nz-icon nzType="google"></i>
        Đăng ký với Google
      </button>
    </div>

    <div class="login-link-section">
      <span>Đã có tài khoản? <a routerLink="/login">Đăng nhập ngay</a></span>
    </div>
  </nz-card>
</div>